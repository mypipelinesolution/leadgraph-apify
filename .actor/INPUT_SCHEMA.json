{
  "title": "LeadGraphâ„¢ Input",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "seedType": {
      "title": "Seed Type",
      "type": "string",
      "description": "How to start the search.",
      "default": "keyword",
      "editor": "select",
      "enum": ["keyword", "category", "customUrls"],
      "enumTitles": ["Keyword search", "Category browse", "Custom URLs list"]
    },
    "keywords": {
      "title": "Keywords",
      "type": "array",
      "description": "Search terms (e.g., 'HVAC contractor', 'landscaping'). Used when Seed Type = Keyword search.",
      "editor": "stringList",
      "default": ["tree service"]
    },
    "customUrls": {
      "title": "Custom URLs",
      "type": "array",
      "description": "Business listing URLs. Used when Seed Type = Custom URLs list.",
      "editor": "stringList",
      "default": []
    },
    "locations": {
      "title": "Locations",
      "type": "array",
      "description": "Locations to search. Use 'City, State' or 'ZIP'.",
      "editor": "stringList",
      "default": ["Pepperell, MA"]
    },
    "useApis": {
      "title": "Use APIs Instead of Web Scraping",
      "type": "boolean",
      "description": "If true, uses official APIs (Google Places, Yelp Fusion) instead of web scraping. Requires API keys but is faster and more reliable.",
      "default": false
    },
    "geoMode": {
      "title": "Geo Mode",
      "type": "string",
      "description": "Use city/town text search or precise lat/lng radius.",
      "default": "text",
      "editor": "select",
      "enum": ["text", "radius"],
      "enumTitles": ["Text locations", "Lat/Lng + radius"]
    },
    "radiusMiles": {
      "title": "Radius (miles)",
      "type": "number",
      "description": "Only used when Geo Mode = Lat/Lng + radius.",
      "default": 10,
      "minimum": 1,
      "maximum": 200
    },
    "centerLat": {
      "title": "Center Latitude",
      "type": "number",
      "description": "Center latitude for radius search. Only used when Geo Mode = Lat/Lng + radius.",
      "default": 42.665
    },
    "centerLng": {
      "title": "Center Longitude",
      "type": "number",
      "description": "Center longitude for radius search. Only used when Geo Mode = Lat/Lng + radius.",
      "default": -71.588
    },
    "sources": {
      "title": "Sources",
      "type": "array",
      "description": "Select which sources to use for discovery.",
      "editor": "select",
      "default": ["googleMaps", "yelp"],
      "uniqueItems": true,
      "items": {
        "type": "string",
        "enum": ["googleMaps", "yelp", "bbb", "chambers", "serp", "nicheDirectories"]
      }
    },
    "maxResultsPerLocation": {
      "title": "Max Results per Location",
      "type": "integer",
      "description": "Maximum businesses to collect per location (before dedupe).",
      "default": 100,
      "minimum": 1,
      "maximum": 5000
    },
    "maxTotalResults": {
      "title": "Max Total Results",
      "type": "integer",
      "description": "Hard cap across all locations (before dedupe).",
      "default": 500,
      "minimum": 1,
      "maximum": 50000
    },
    "filters": {
      "title": "Filters",
      "type": "object",
      "description": "Filtering and qualification rules.",
      "editor": "json",
      "properties": {
        "minRating": {
          "title": "Min Rating",
          "type": "number",
          "description": "Minimum star rating (0-5). Businesses below this rating will be filtered out.",
          "default": 0,
          "minimum": 0,
          "maximum": 5
        },
        "minReviews": {
          "title": "Min Reviews",
          "type": "integer",
          "description": "Minimum number of reviews required.",
          "default": 0,
          "minimum": 0
        },
        "requireWebsite": {
          "title": "Require Website",
          "type": "boolean",
          "description": "Only include businesses with a website.",
          "default": false
        },
        "excludeFranchises": {
          "title": "Exclude Franchises / Chains",
          "type": "boolean",
          "description": "Exclude franchise and chain businesses.",
          "default": false
        },
        "excludeKeywords": {
          "title": "Exclude Keywords",
          "type": "array",
          "description": "Filter out businesses containing these keywords in name or description.",
          "editor": "stringList",
          "default": []
        },
        "includeKeywords": {
          "title": "Include Keywords",
          "type": "array",
          "description": "Only include businesses containing these keywords.",
          "editor": "stringList",
          "default": []
        }
      }
    },
    "enrichment": {
      "title": "Enrichment",
      "type": "object",
      "description": "Website crawl + contact extraction options.",
      "editor": "json",
      "properties": {
        "crawlWebsite": {
          "title": "Crawl Website for Contacts",
          "type": "boolean",
          "description": "Crawl business websites to extract emails, phones, and social media links.",
          "default": true
        },
        "maxWebsitePages": {
          "title": "Max Website Pages",
          "type": "integer",
          "description": "Maximum number of pages to crawl per website.",
          "default": 10,
          "minimum": 1,
          "maximum": 100
        },
        "emailExtraction": {
          "title": "Email Extraction",
          "type": "string",
          "description": "Email extraction mode: off, standard, or aggressive.",
          "default": "standard",
          "editor": "select",
          "enum": ["off", "standard", "aggressive"],
          "enumTitles": ["Off", "Standard", "Aggressive"]
        },
        "phoneExtraction": {
          "title": "Phone Extraction",
          "type": "boolean",
          "description": "Extract and validate phone numbers from websites.",
          "default": true
        },
        "collectTechSignals": {
          "title": "Collect Tech Signals",
          "type": "boolean",
          "description": "Detect marketing technologies (Google Analytics, Facebook Pixel, etc.).",
          "default": true
        }
      }
    },
    "dedupe": {
      "title": "Dedupe & Matching",
      "type": "object",
      "description": "Deduplication settings for merging duplicate businesses.",
      "editor": "json",
      "properties": {
        "enabled": {
          "title": "Enable Dedupe",
          "type": "boolean",
          "description": "Enable deduplication of businesses found across multiple sources.",
          "default": true
        },
        "strategy": {
          "title": "Dedupe Strategy",
          "type": "string",
          "description": "Deduplication strategy: strict, balanced, or aggressive.",
          "default": "balanced",
          "editor": "select",
          "enum": ["strict", "balanced", "aggressive"],
          "enumTitles": ["Strict (few merges)", "Balanced (recommended)", "Aggressive (more merges)"]
        }
      }
    },
    "scoring": {
      "title": "Lead Scoring",
      "type": "object",
      "description": "Lead scoring configuration (0-100 score with A/B/C/D tiers).",
      "editor": "json",
      "properties": {
        "enabled": {
          "title": "Enable Scoring",
          "type": "boolean",
          "description": "Enable lead scoring based on quality signals.",
          "default": true
        },
        "weightsPreset": {
          "title": "Weights Preset",
          "type": "string",
          "description": "Scoring weights preset optimized for different business types.",
          "default": "localService",
          "editor": "select",
          "enum": ["localService", "b2bAgency", "retail", "custom"],
          "enumTitles": ["Local service", "B2B agency", "Retail", "Custom (advanced)"]
        },
        "customWeights": {
          "title": "Custom Weights (advanced)",
          "type": "object",
          "description": "Custom scoring weights (only used when preset = custom).",
          "editor": "json",
          "default": {},
          "properties": {
            "reviews": { 
              "title": "Reviews Weight",
              "type": "number", 
              "description": "Weight for review count and rating signals",
              "default": 1 
            },
            "recency": { 
              "title": "Recency Weight",
              "type": "number", 
              "description": "Weight for business recency signals",
              "default": 1 
            },
            "hasWebsite": { 
              "title": "Website Weight",
              "type": "number", 
              "description": "Weight for having a website",
              "default": 1 
            },
            "techSignals": { 
              "title": "Tech Signals Weight",
              "type": "number", 
              "description": "Weight for marketing technology presence",
              "default": 1 
            },
            "contactability": { 
              "title": "Contactability Weight",
              "type": "number", 
              "description": "Weight for contact information availability",
              "default": 1 
            }
          }
        }
      }
    },
    "ai": {
      "title": "AI Outreach Generation",
      "type": "object",
      "description": "AI-powered outreach content generation using OpenAI.",
      "editor": "json",
      "properties": {
        "enabled": {
          "title": "Enable AI Outreach",
          "type": "boolean",
          "description": "Generate personalized cold emails, voicemail scripts, and SMS messages using AI",
          "default": false
        },
        "model": {
          "title": "AI Model",
          "type": "string",
          "description": "OpenAI model to use for content generation.",
          "default": "gpt-3.5-turbo",
          "editor": "select",
          "enum": ["gpt-3.5-turbo", "gpt-4", "gpt-4-turbo"],
          "enumTitles": ["GPT-3.5 Turbo (Fast & Cheap)", "GPT-4 (Better Quality)", "GPT-4 Turbo (Best Quality)"]
        },
        "yourCompanyName": {
          "title": "Your Company Name",
          "type": "string",
          "default": "Your Company",
          "description": "Your company name for personalization"
        },
        "yourServiceOffering": {
          "title": "Your Service/Offering",
          "type": "string",
          "default": "digital marketing services",
          "description": "What you're offering (e.g., 'SEO services', 'lead generation', 'web design')"
        },
        "personalizationDepth": {
          "title": "Personalization Depth",
          "type": "string",
          "description": "How personalized the AI-generated content should be.",
          "default": "medium",
          "editor": "select",
          "enum": ["low", "medium", "high"],
          "enumTitles": ["Low (fast)", "Medium", "High (slower)"]
        },
        "includeSmsOpener": {
          "title": "Include SMS opener",
          "type": "boolean",
          "description": "Include a personalized opener in SMS messages.",
          "default": false
        }
      }
    },
    "exports": {
      "title": "Exports & Integrations",
      "type": "object",
      "description": "Output format and integration settings.",
      "editor": "json",
      "properties": {
        "outputFormat": {
          "title": "Output Format",
          "type": "string",
          "description": "Format for exported data.",
          "default": "dataset",
          "editor": "select",
          "enum": ["dataset", "csv", "json", "xlsx"],
          "enumTitles": ["Apify Dataset", "CSV", "JSON", "Excel (XLSX)"]
        },
        "deltaMode": {
          "title": "Delta Mode",
          "type": "boolean",
          "description": "Only output new/changed leads compared to previous run.",
          "default": false
        },
        "webhookUrl": {
          "title": "Webhook URL (optional)",
          "type": "string",
          "description": "URL to send webhook notifications to.",
          "default": ""
        },
        "webhookMode": {
          "title": "Webhook Mode",
          "type": "string",
          "description": "When to send webhook notifications.",
          "default": "summary",
          "editor": "select",
          "enum": ["off", "summary", "perLead", "both"],
          "enumTitles": ["Off", "Summary only", "Per-lead", "Both"]
        }
      }
    },
    "runMode": {
      "title": "Run Mode",
      "type": "object",
      "description": "Advanced runtime configuration.",
      "editor": "json",
      "properties": {
        "stealth": {
          "title": "Stealth Mode",
          "type": "boolean",
          "description": "Use stealth techniques to avoid detection.",
          "default": true
        },
        "maxConcurrency": {
          "title": "Max Concurrency",
          "type": "integer",
          "description": "Maximum number of concurrent requests.",
          "default": 10,
          "minimum": 1,
          "maximum": 200
        },
        "maxRetries": {
          "title": "Max Retries",
          "type": "integer",
          "description": "Maximum number of retries for failed requests.",
          "default": 3,
          "minimum": 0,
          "maximum": 20
        },
        "proxyEnabled": {
          "title": "Use Apify Proxy",
          "type": "boolean",
          "description": "Use Apify's proxy service for requests.",
          "default": true
        }
      }
    },
    "debug": {
      "title": "Debug",
      "type": "object",
      "description": "Debugging and logging options.",
      "editor": "json",
      "properties": {
        "saveHtmlSnapshots": {
          "title": "Save HTML Snapshots",
          "type": "boolean",
          "description": "Save HTML snapshots for debugging.",
          "default": false
        },
        "logLevel": {
          "title": "Log Level",
          "type": "string",
          "description": "Logging verbosity level.",
          "default": "INFO",
          "editor": "select",
          "enum": ["ERROR", "WARN", "INFO", "DEBUG"],
          "enumTitles": ["ERROR", "WARN", "INFO", "DEBUG"]
        }
      }
    }
  },
  "required": ["seedType", "locations"]
}
